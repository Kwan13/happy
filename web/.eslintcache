[{"/Users/kawan/Desktop/Happy/web/src/pages/Landing/styles.ts":"1","/Users/kawan/Desktop/Happy/web/src/pages/Landing/index.tsx":"2","/Users/kawan/Desktop/Happy/web/src/App.tsx":"3","/Users/kawan/Desktop/Happy/web/src/routes/index.tsx":"4","/Users/kawan/Desktop/Happy/web/src/pages/OrphanagesMap/index.tsx":"5","/Users/kawan/Desktop/Happy/web/src/pages/OrphanagesMap/styles.ts":"6","/Users/kawan/Desktop/Happy/web/src/components/Map/index.tsx":"7","/Users/kawan/Desktop/Happy/web/src/index.tsx":"8","/Users/kawan/Desktop/Happy/web/src/pages/CreateOrphanage/index.tsx":"9","/Users/kawan/Desktop/Happy/web/src/components/Sidebar/index.tsx":"10","/Users/kawan/Desktop/Happy/web/src/components/Sidebar/styles.ts":"11","/Users/kawan/Desktop/Happy/web/src/pages/CreateOrphanage/styles.ts":"12","/Users/kawan/Desktop/Happy/web/src/components/InputText/index.tsx":"13","/Users/kawan/Desktop/Happy/web/src/components/InputText/styles.ts":"14","/Users/kawan/Desktop/Happy/web/src/components/TextArea/styles.ts":"15","/Users/kawan/Desktop/Happy/web/src/components/TextArea/index.tsx":"16","/Users/kawan/Desktop/Happy/web/src/components/InputFile/index.tsx":"17","/Users/kawan/Desktop/Happy/web/src/components/Button/styles.ts":"18","/Users/kawan/Desktop/Happy/web/src/styles/global.ts":"19","/Users/kawan/Desktop/Happy/web/src/pages/Orphanage/index.tsx":"20","/Users/kawan/Desktop/Happy/web/src/pages/Orphanage/styles.ts":"21","/Users/kawan/Desktop/Happy/web/src/components/Button/index.tsx":"22"},{"size":1602,"mtime":1612367291000,"results":"23","hashOfConfig":"24"},{"size":833,"mtime":1613248610363,"results":"25","hashOfConfig":"24"},{"size":227,"mtime":1612367904000,"results":"26","hashOfConfig":"24"},{"size":696,"mtime":1613248651898,"results":"27","hashOfConfig":"24"},{"size":1963,"mtime":1613492114043,"results":"28","hashOfConfig":"29"},{"size":2004,"mtime":1612378878000,"results":"30","hashOfConfig":"31"},{"size":767,"mtime":1613181021044,"results":"32","hashOfConfig":"24"},{"size":198,"mtime":1612308765000,"results":"33","hashOfConfig":"34"},{"size":6494,"mtime":1613500722525,"results":"35","hashOfConfig":"29"},{"size":476,"mtime":1613250239160,"results":"36","hashOfConfig":"24"},{"size":597,"mtime":1612382211000,"results":"37","hashOfConfig":"24"},{"size":2118,"mtime":1613259808122,"results":"38","hashOfConfig":"39"},{"size":714,"mtime":1613164564970,"results":"40","hashOfConfig":"39"},{"size":345,"mtime":1613575225068,"results":"41","hashOfConfig":"29"},{"size":316,"mtime":1613153439301,"results":"42","hashOfConfig":"24"},{"size":711,"mtime":1613164955333,"results":"43","hashOfConfig":"24"},{"size":1275,"mtime":1613575179228,"results":"44","hashOfConfig":"29"},{"size":291,"mtime":1613168756563,"results":"45","hashOfConfig":"24"},{"size":416,"mtime":1613168797540,"results":"46","hashOfConfig":"24"},{"size":3927,"mtime":1613575583387,"results":"47","hashOfConfig":"29"},{"size":3542,"mtime":1613501072406,"results":"48","hashOfConfig":"29"},{"size":320,"mtime":1613167847220,"results":"49","hashOfConfig":"24"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kxlrpc",{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17bgs40",{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1bp8krf",{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"fjej6h",{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1loy1fd",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/kawan/Desktop/Happy/web/src/pages/Landing/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/pages/Landing/index.tsx",[],["99","100","101","102","103"],"/Users/kawan/Desktop/Happy/web/src/App.tsx",[],"/Users/kawan/Desktop/Happy/web/src/routes/index.tsx",[],["104","105","106","107","108"],"/Users/kawan/Desktop/Happy/web/src/pages/OrphanagesMap/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/pages/OrphanagesMap/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/components/Map/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/pages/CreateOrphanage/index.tsx",["109","110","111"],"import React, { useState, useRef, useCallback, ChangeEvent } from 'react';\nimport { FiPlus } from 'react-icons/fi';\nimport { Form } from '@unform/web';\nimport { FormHandles } from '@unform/core';\nimport { useMapEvents, Marker } from 'react-leaflet';\nimport { useHistory } from 'react-router-dom';\nimport * as Yup from 'yup';\n\nimport api from '../../services/api';\n\nimport Sidebar from '../../components/Sidebar';\nimport Map from '../../components/Map';\nimport happyMapIcon from '../../components/Map/happyIcon';\nimport InputText from '../../components/InputText';\nimport TextArea from '../../components/TextArea';\nimport InputFile from '../../components/InputFile';\nimport Button from '../../components/Button';\n\nimport { Container, Content, MapContainer } from './styles';\n\ninterface FormData {\n  name: string;\n  about: string;\n  whatsapp: string;\n  images: File[];\n  instructions: string;\n  opening_hours: string;\n}\n\nconst CreateOrphanage: React.FC = () => {\n  const history = useHistory();\n\n  const formRef = useRef<FormHandles>(null);\n  const [open_on_weekends, setOpen_on_weekends] = useState(false);\n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 });\n  const [images, setImages] = useState<File[]>([]);\n  const [previewImages, setPreviewImages] = useState<string[]>([]);\n\n  const handleSubmit = useCallback(\n    async (data: FormData, { reset }) => {\n      try {\n        const { latitude, longitude } = position;\n\n        const validateData = {\n          name: data.name,\n          about: data.about,\n          latitude,\n          longitude,\n          instructions: data.instructions,\n          opening_hours: data.opening_hours,\n          open_on_weekends,\n          whatsapp: data.whatsapp,\n          images,\n        };\n\n        const schema = Yup.object().shape({\n          name: Yup.string().required(),\n          about: Yup.string().required(),\n          latitude: Yup.number().required(),\n          longitude: Yup.number().required(),\n          instructions: Yup.string().required(),\n          opening_hours: Yup.string().required(),\n          open_on_weekends: Yup.boolean().required(),\n          whatsapp: Yup.string().max(11).required(),\n          images: Yup.array().min(1),\n        });\n\n        const formData = new FormData();\n\n        formData.append('name', data.name);\n        formData.append('about', data.about);\n        formData.append('latitude', String(latitude));\n        formData.append('longitude', String(longitude));\n        formData.append('instructions', data.instructions);\n        formData.append('opening_hours', data.opening_hours);\n        formData.append('open_on_weekends', String(open_on_weekends));\n        formData.append('whatsapp', data.whatsapp);\n\n        images.forEach(image => {\n          formData.append('images', image);\n        });\n\n        await schema.validate(validateData);\n\n        await api.post('orphanages', formData);\n\n        alert('Cadastro realizado com sucesso!');\n\n        reset();\n\n        history.push('/app');\n\n        console.log(validateData);\n      } catch (err) {\n        alert('Certifique-se de preencher todos os campos!');\n      }\n    },\n    [history, images, open_on_weekends, position],\n  );\n\n  function HandleMapClick() {\n    useMapEvents({\n      click: e => {\n        const { lat, lng } = e.latlng;\n\n        setPosition({\n          latitude: lat,\n          longitude: lng,\n        });\n      },\n    });\n    return null;\n  }\n\n  function handleSelecImages(event: ChangeEvent<HTMLInputElement>) {\n    if (!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n\n    setImages(selectedImages);\n\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n\n    setPreviewImages(selectedImagesPreview);\n  }\n\n  return (\n    <Container>\n      <Sidebar />\n      <Content>\n        <Form ref={formRef} onSubmit={handleSubmit}>\n          <fieldset>\n            <legend>Dados</legend>\n\n            <MapContainer>\n              <Map style={{ width: '100%', height: 280 }}>\n                <Marker\n                  icon={happyMapIcon}\n                  position={[position.latitude, position.longitude]}\n                />\n                <HandleMapClick />\n              </Map>\n              <span>Clique no mapa para adicionar a localização</span>\n            </MapContainer>\n\n            <label htmlFor=\"\">Nome</label>\n            <InputText name=\"name\" />\n\n            <label htmlFor=\"about\">\n              Sobre <span>Máximo de 300 caracteres</span>\n            </label>\n            <TextArea name=\"about\" id=\"about\" maxLength={300} />\n\n            <label htmlFor=\"whatsapp\">Número de Whatsapp</label>\n            <InputText name=\"whatsapp\" id=\"whatsapp\" />\n\n            <label>Fotos</label>\n            <div className=\"images-container\">\n              {previewImages.map(image => {\n                return <img key={image} src={image} alt=\"test\" />;\n              })}\n              <label htmlFor=\"images[]\" className=\"content-input-file\">\n                <FiPlus size={24} color=\"#15b6d6\" />\n              </label>\n            </div>\n            <InputFile\n              name=\"images\"\n              id=\"images[]\"\n              onChange={handleSelecImages}\n            />\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <label htmlFor=\"instructions\">Instruções</label>\n            <TextArea name=\"instructions\" id=\"instructions\" />\n\n            <label htmlFor=\"opening_hours\">Horário de visitas</label>\n            <InputText name=\"opening_hours\" id=\"opening_hours\" />\n\n            <label htmlFor=\"\">Atende fim de semana?</label>\n            <div className=\"content-button-group\">\n              <button\n                type=\"button\"\n                onClick={() => setOpen_on_weekends(true)}\n                className={\n                  open_on_weekends ? 'content-button-group-active' : ''\n                }\n              >\n                Sim\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setOpen_on_weekends(false)}\n                className={\n                  open_on_weekends ? '' : 'content-button-group-active'\n                }\n              >\n                Não\n              </button>\n            </div>\n          </fieldset>\n\n          <Button type=\"submit\">Confirmar</Button>\n        </Form>\n      </Content>\n    </Container>\n  );\n};\n\nexport default CreateOrphanage;\n",["112","113","114","115","116"],"/Users/kawan/Desktop/Happy/web/src/components/Sidebar/index.tsx",[],["117","118","119","120","121"],"/Users/kawan/Desktop/Happy/web/src/components/Sidebar/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/pages/CreateOrphanage/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/components/InputText/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/components/InputText/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/components/TextArea/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/components/TextArea/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/components/InputFile/index.tsx",["122","123","124","125"],"/Users/kawan/Desktop/Happy/web/src/components/Button/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/styles/global.ts",[],"/Users/kawan/Desktop/Happy/web/src/pages/Orphanage/index.tsx",[],"/Users/kawan/Desktop/Happy/web/src/pages/Orphanage/styles.ts",[],"/Users/kawan/Desktop/Happy/web/src/components/Button/index.tsx",[],{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","replacedBy":"131"},{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","replacedBy":"135"},{"ruleId":"126","replacedBy":"136"},{"ruleId":"128","replacedBy":"137"},{"ruleId":"130","replacedBy":"138"},{"ruleId":"132","replacedBy":"139"},{"ruleId":"134","replacedBy":"140"},{"ruleId":"141","severity":1,"message":"142","line":87,"column":9,"nodeType":"143","messageId":"144","endLine":87,"endColumn":49},{"ruleId":"145","severity":1,"message":"146","line":93,"column":9,"nodeType":"147","messageId":"144","endLine":93,"endColumn":20},{"ruleId":"141","severity":1,"message":"142","line":95,"column":9,"nodeType":"143","messageId":"144","endLine":95,"endColumn":61},{"ruleId":"126","replacedBy":"148"},{"ruleId":"128","replacedBy":"149"},{"ruleId":"130","replacedBy":"150"},{"ruleId":"132","replacedBy":"151"},{"ruleId":"134","replacedBy":"152"},{"ruleId":"126","replacedBy":"153"},{"ruleId":"128","replacedBy":"154"},{"ruleId":"130","replacedBy":"155"},{"ruleId":"132","replacedBy":"156"},{"ruleId":"134","replacedBy":"157"},{"ruleId":"158","severity":1,"message":"159","line":2,"column":3,"nodeType":"160","messageId":"161","endLine":2,"endColumn":22},{"ruleId":"158","severity":1,"message":"162","line":18,"column":51,"nodeType":"160","messageId":"161","endLine":18,"endColumn":56},{"ruleId":"158","severity":1,"message":"163","line":19,"column":10,"nodeType":"160","messageId":"161","endLine":19,"endColumn":17},{"ruleId":"158","severity":1,"message":"164","line":20,"column":9,"nodeType":"160","messageId":"161","endLine":20,"endColumn":22},"lines-around-directive",["165"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],["165"],[],[],[],[],"no-alert","Unexpected alert.","CallExpression","unexpected","no-console","Unexpected console statement.","MemberExpression",["165"],[],[],[],[],["165"],[],[],[],[],"@typescript-eslint/no-unused-vars","'InputHTMLAttributes' is defined but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","'preview' is assigned a value but never used.","'handlePreview' is assigned a value but never used.","padding-line-between-statements"]